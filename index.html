<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CatMind</title>

<style>
:root{
  --turquoise:#22d3ee;
  --panel:rgba(10,18,28,0.95);
}

body{
  margin:0;
  font-family:'Segoe UI',system-ui,sans-serif;
  background:#000;
  color:white;
  min-height:100vh;
}

#bg{
  position:fixed;
  inset:0;
  background-size:cover;
  background-position:center;
  z-index:-2;
  transition:opacity 1s ease;
}

.overlay{
  position:fixed;
  inset:0;
  background:linear-gradient(to bottom,rgba(0,0,0,0.4),rgba(0,0,0,0.85));
  z-index:-1;
}

.card{
  position:fixed;
  top:60px;
  right:30px;
  width:280px;
  background:var(--panel);
  backdrop-filter:blur(12px);
  border-radius:16px;
  padding:20px;
  box-shadow:0 20px 60px rgba(0,0,0,0.7);
}

@media(max-width:768px){
  .card{
    top:30px;
    right:10px;
    width:240px;
  }
}

h1{
  font-size:16px;
  text-align:center;
  margin-bottom:14px;
}

select{
  width:100%;
  padding:8px;
  border-radius:6px;
  border:none;
  margin-bottom:10px;
  font-size:12px;
}

button{
  width:100%;
  padding:8px;
  border:none;
  border-radius:8px;
  background:var(--turquoise);
  font-weight:600;
  font-size:12px;
  cursor:pointer;
  margin-bottom:14px;
}

.section{
  margin-top:14px;
}

.section h3{
  font-size:12px;
  margin-bottom:6px;
}

.link-btn{
  display:block;
  padding:6px;
  text-align:center;
  border-radius:6px;
  background:rgba(255,255,255,0.08);
  color:white;
  text-decoration:none;
  font-size:11px;
  margin-bottom:5px;
  transition:0.2s;
}

.link-btn:hover{
  background:rgba(255,255,255,0.18);
}

#result{
  margin-top:10px;
  font-size:13px;
  line-height:1.6;
}
</style>
</head>

<body>

<div id="bg"></div>
<div class="overlay"></div>

<div class="card">

<h1>ğŸ± ××‘×—×•×Ÿ ×—×›×</h1>

<select id="problem">
  <option value="">×‘×—×¨ ×‘×¢×™×”</option>
  <option>×”×§××•×ª</option>
  <option>×©×œ×©×•×œ</option>
  <option>×¢×¦×™×¨×•×ª</option>
  <option>×—×•×¡×¨ ×ª×™××‘×•×Ÿ</option>
  <option>×™×¨×™×“×” ×‘××©×§×œ</option>
  <option>×¢×œ×™×™×” ×—×¨×™×’×” ×‘××©×§×œ</option>
  <option>×¢×™×™×¤×•×ª ×§×™×¦×•× ×™×ª</option>
  <option>×§×•×©×™ ×‘× ×©×™××”</option>
  <option>×©×™×¢×•×œ</option>
  <option>×”×ª×¢×˜×©×•×™×•×ª ×ª×›×•×¤×•×ª</option>
  <option>×”×¤×¨×©×•×ª ××”××£</option>
  <option>×”×¤×¨×©×•×ª ××”×¢×™× ×™×™×</option>
  <option>×’×™×¨×•×“×™× ××¨×•×‘×™×</option>
  <option>× ×©×™×¨×ª ×©×™×¢×¨ ×—×¨×™×’×”</option>
  <option>×¤×¦×¢×™× ×‘×¢×•×¨</option>
  <option>× ×¤×™×—×•×ª ×‘×’×•×£</option>
  <option>×¦×œ×™×¢×”</option>
  <option>×—×•×¡×¨ ×©×™××•×© ×‘××¨×’×– ×—×•×œ</option>
  <option>×“× ×‘×©×ª×Ÿ</option>
  <option>×©×™× ×•×™×™× ×‘×”×ª× ×”×’×•×ª</option>
  <option>××’×¨×¡×™×‘×™×•×ª ×¤×ª××•××™×ª</option>
  <option>×¨×¢×™×“×•×ª</option>
  <option>×¤×¨×›×•×¡×™×</option>
  <option>×”×¨×¢×œ×” ××¤×©×¨×™×ª</option>
  <option>×‘×œ×™×¢×ª ×—×¤×¥ ×–×¨</option>
  <option>×—×•× ×’×‘×•×”</option>
  <option>××•×‘×“×Ÿ ×”×›×¨×”</option>
</select>

<button onclick="analyze()">× ×ª×— ××§×¨×”</button>

<div id="result"></div>

<div class="section">
  <h3>××™×“×¢ × ×•×¡×£</h3>
  <a class="link-btn"
     href="https://www.whiskas.in/cat-breeds"
     target="_blank">
     Browse All Breeds
  </a>
</div>

<div class="section">
  <h3>×•×˜×¨×™× ×¨×™× ××•××œ×¦×™×</h3>
  <a class="link-btn"
     href="https://www.talisteinvet.co.il/"
     target="_blank">
     ×“"×¨ ×˜×œ×™ ×©×˜×™×™×Ÿ
  </a>
  <a class="link-btn"
     href="https://easy.co.il/page/3056876"
     target="_blank">
     ×“"×¨ ×ª××¨ ×¤×œ×™×“×œ
  </a>
</div>

</div>

<script>
async function analyze() {
  const problem = document.getElementById("problem").value;
  const resultBox = document.getElementById("result");

  if (!problem) {
    resultBox.innerHTML = "âš  ×× × ×‘×—×¨ ×‘×¢×™×” ×ª×—×™×œ×”";
    return;
  }

  resultBox.innerHTML = "â³ ×× ×ª×— ×‘×¢×™×”...";

  try {
    const response = await fetch("https://catmind-ai-server.onrender.com/generate", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      // ×›××Ÿ ×”×ª×™×§×•×Ÿ: ×©×•×œ×—×™× 'text' ×›×¤×™ ×©×”×©×¨×ª ××¦×¤×”
      body: JSON.stringify({
        text: `×”×—×ª×•×œ ×©×œ×™ ×¡×•×‘×œ ×: ${problem}. ×ª×Ÿ ×”×¡×‘×¨ ×§×¦×¨ ×•××” ×›×“××™ ×œ×¢×©×•×ª.`
      })
    });

    const data = await response.json();

    if (!response.ok) {
      throw new Error(data.error || "Server error");
    }

    // ×›××Ÿ ×”×ª×™×§×•×Ÿ ×”×§×¨×™×˜×™: ×§×•×¨××™× ×œ-result ×‘××§×•× output
    // ×”×•×¡×¤×ª×™ ×¨×§ ×¨×§×¢ ×§×˜×Ÿ ×›×“×™ ×©×”×˜×§×¡×˜ ×™×”×™×” ×§×¨×™×, ×‘×œ×™ ×œ×©× ×•×ª ××ª ×”××‘× ×” ×”××§×•×¨×™
    resultBox.innerHTML = `
      <div style="background: rgba(255,255,255,0.08); padding: 10px; border-radius: 10px; margin-top: 10px;">
        ${data.result}
      </div>
    `;

  } catch (error) {
    resultBox.innerHTML = "âŒ ×©×’×™××” ×‘×—×™×‘×•×¨ ×œ×©×¨×ª";
    console.error(error);
  }
}

/* ×¨×§×¢×™× ××ª×—×œ×¤×™× */
const images = ["bg.png","bg2.png","bg3.png","bg4.png"];
let current = 0;
const bg = document.getElementById("bg");

function changeBackground(){
  bg.style.opacity = 0;
  setTimeout(()=>{
    bg.style.backgroundImage = `url('${images[current]}')`;
    bg.style.opacity = 1;
    current = (current + 1) % images.length;
  }, 400);
}

changeBackground();
setInterval(changeBackground, 6000);
</script>

</body>
</html>
