<!doctype html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CatMind Zen Emergency V24</title>

<style>
:root {
  --primary: #a29bfe; 
  --emergency: #ff7675;
  --glass: rgba(10, 10, 12, 0.96);
}

body {
  margin: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: white;
  background-color: #020205;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.cat-viewer {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 500px;
  height: 500px;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  transition: background-image 2.5s ease-in-out;
  z-index: 1;
  opacity: 0.5;
}

.app-layout {
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 40px;
  box-sizing: border-box;
  z-index: 10;
}

.side-panel { width: 340px; display: flex; flex-direction: column; gap: 20px; }

.card {
  background: var(--glass);
  backdrop-filter: blur(60px);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 30px;
  padding: 25px;
  box-shadow: 0 30px 100px rgba(0,0,0,0.9);
}

h3 { color: var(--primary); font-size: 20px; margin: 0 0 15px 0; border-bottom: 1px solid rgba(162, 155, 254, 0.2); padding-bottom: 10px; }

select, textarea {
  width: 100%;
  padding: 14px;
  border-radius: 15px;
  border: 1px solid rgba(255,255,255,0.1);
  background: #000 !important;
  color: #fff !important;
  font-size: 15px;
  margin-bottom: 15px;
}

button {
  width: 100%;
  padding: 16px;
  border: none;
  border-radius: 18px;
  background: linear-gradient(135deg, var(--primary), #6c5ce7);
  color: #fff;
  font-weight: bold;
  cursor: pointer;
  font-size: 16px;
}

.emergency-btn {
  background: var(--emergency) !important;
  margin-top: 10px;
  display: none;
  text-decoration: none;
  color: white;
  text-align: center;
  display: none;
  padding: 15px;
  border-radius: 15px;
  font-weight: bold;
}

.controls {
  position: fixed;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 30px;
  z-index: 100;
}

.btn-float {
  width: 65px;
  height: 65px;
  border-radius: 50%;
  background: var(--glass);
  color: var(--primary);
  border: 1px solid rgba(255,255,255,0.1);
  font-size: 24px;
  cursor: pointer;
  transition: 0.3s;
}

.btn-float.active { color: #81ecec; border-color: #81ecec; box-shadow: 0 0 20px rgba(129, 236, 236, 0.2); }

#diag-result {
  margin-top: 20px;
  padding: 18px;
  border-radius: 20px;
  display: none;
  font-size: 15px;
  line-height: 1.6;
}

.is-emergency { background: rgba(255, 118, 117, 0.2) !important; border: 2px solid var(--emergency); color: #ffb8b8; }
.is-normal { background: rgba(162, 155, 254, 0.1); border: 1px solid var(--primary); }

#hist-log div { border-bottom: 1px solid rgba(255,255,255,0.05); padding: 5px 0; }
</style>
</head>

<body>

<div id="cat-main" class="cat-viewer"></div>

<div class="app-layout">
    <div class="side-panel">
        <div class="card">
            <h3>  V24 </h3>
            <select id="sel-issue">
                <option value="砖转">砖转 驻转转</option>
                <option value="转">转 </option>
                <option value="爪专">住 抓 专</option>
                <option value="砖专转">砖专转 专住</option>
                <option value="驻">住专住 住转转专转</option>
            </select>
            <textarea id="txt-desc" rows="3" placeholder="转专 转 拽专... (砖: 转  )"></textarea>
            <button onclick="runSafetyDiag()">转 转转</button>
            
            <div id="diag-result"></div>
            
            <div id="emergency-area" style="display:none; margin-top:15px;">
                <p style="color:var(--emergency); font-weight:bold; font-size:13px;">专 专 专专:</p>
                <a href="tel:039688988" class="emergency-btn" style="display:block;"> 转  (转 ): 03-968-8988</a>
                <a href="tel:099544430" class="emergency-btn" style="display:block; background:#e17055 !important;"> 转 注转: 09-954-4430</a>
            </div>
        </div>
    </div>

    <div class="side-panel">
        <div class="card">
            <h3>注专 注 </h3>
            <a href="https://www.purina.co.il/cats/cat-breeds" target="_blank" style="color:#eee; text-decoration:none; display:block; padding:10px; background:rgba(255,255,255,0.05); border-radius:10px; margin-bottom:10px;">专 注 </a>
            <a href="https://www.vetcenter.co.il/emergency" target="_blank" style="color:var(--emergency); text-decoration:none; display:block; padding:10px; background:rgba(255,118,117,0.1); border-radius:10px;">专专 专 </a>
        </div>
        
        <div class="card">
            <h3>住专 </h3>
            <div id="hist-log" style="font-size: 12px; opacity: 0.7; max-height: 120px; overflow-y: auto;"></div>
        </div>
    </div>
</div>

<div class="controls">
    <button class="btn-float" id="btn-amb" onclick="toggleAmb()"></button>
    <button class="btn-float" onclick="ding()"></button>
</div>

<audio id="amb-audio" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3" type="audio/mpeg">
</audio>

<script>
const gallery = [
    "https://images.unsplash.com/photo-1568152950566-c1bf43f4ab28?q=80&w=1200", //  拽
    "https://images.unsplash.com/photo-1548550023-2bdb3c5beed7?q=80&w=1200", // 拽专拽
    "https://images.unsplash.com/photo-1592194996308-7b43878e84a6?q=80&w=1200", // 
    "https://images.unsplash.com/photo-1513245543132-31f507417b26?q=80&w=1200"  // 住
];
let idx = 0;
function rotate() { 
    document.getElementById('cat-main').style.backgroundImage = `url('${gallery[idx]}')`; 
    idx = (idx + 1) % gallery.length; 
}
setInterval(rotate, 9000); rotate();

const bell = new Audio('https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3');
function ding() { bell.currentTime = 0; bell.volume = 0.15; bell.play(); }

function toggleAmb() {
    const a = document.getElementById('amb-audio');
    const btn = document.getElementById('btn-amb');
    a.volume = 0.1; //  砖拽  
    if(a.paused) { a.play(); btn.classList.add('active'); }
    else { a.pause(); btn.classList.remove('active'); }
}

function runSafetyDiag() {
    const issue = document.getElementById('sel-issue').value;
    const desc = document.getElementById('txt-desc').value.toLowerCase();
    const res = document.getElementById('diag-result');
    const emArea = document.getElementById('emergency-area');
    ding();

    //   专 拽专
    const danger = ["住住", "拽", "", "驻爪注", " ", "砖", "驻专住", "专注", " "];
    const isE = danger.some(w => desc.includes(w));

    res.style.display = "block";
    
    if(isE) {
        res.className = "is-emergency";
        res.innerHTML = "<strong> 爪 专 专驻 !</strong><br>转专 砖 爪注 注 住.  转转转 . 转拽砖专 专专 专 !";
        emArea.style.display = "block";
    } else {
        res.className = "is-normal";
        emArea.style.display = "none";
        const advice = {
            "砖转": "专 转专. 驻住拽 祝 专注 砖 注.",
            "转": "砖注 . 砖拽 转 15 拽转 驻 砖.",
            "爪专": "住 专专.  砖专 拽 .",
            "砖专转": "爪专 专. 爪 转拽 专   专.",
            "驻": "拽拽 专.  转专 转 爪转 ."
        };
        res.innerHTML = `<strong> 转转转:</strong><br>${advice[issue]}`;
    }

    const h = document.getElementById('hist-log');
    const t = new Date().toLocaleTimeString('he-IL', {hour:'2-digit', minute:'2-digit'});
    h.innerHTML = `<div>${t}: ${isE ? '锔 专 专驻' : issue}</div>` + h.innerHTML;
}
</script>

</body>
</html>
