<!doctype html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CatMind PRO 7.0</title>

<style>
:root{
 --accent:#00d4ff;
 --danger:#ff4d6d;
 --bg1:#0f2027;
 --bg2:#203a43;
 --bg3:#2c5364;
}

*{box-sizing:border-box}

body{
 margin:0;
 font-family:system-ui;
 color:white;
 background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
 transition:background 2s ease;
 overflow-x:hidden;
}

.container{
 max-width:1100px;
 margin:80px auto;
 padding:20px;
 display:grid;
 grid-template-columns:1fr 1fr;
 gap:40px;
}
@media(max-width:900px){
 .container{grid-template-columns:1fr}
}

.card{
 background:rgba(15,25,35,.7);
 backdrop-filter:blur(20px);
 padding:30px;
 border-radius:25px;
 box-shadow:0 20px 60px rgba(0,0,0,.5);
}

h2{color:var(--accent);margin-top:0}

select,textarea{
 width:100%;
 padding:14px;
 border-radius:14px;
 border:none;
 background:rgba(255,255,255,.08);
 color:white;
 margin-bottom:15px;
 font-size:14px;
}

textarea{min-height:100px;resize:vertical}

button{
 width:100%;
 padding:16px;
 border:none;
 border-radius:40px;
 background:var(--accent);
 color:#001018;
 font-weight:bold;
 cursor:pointer;
 transition:.3s;
}
button:hover{transform:scale(1.03)}

.result{
 margin-top:20px;
 display:none;
}

.result.danger{
 color:var(--danger);
 font-weight:bold;
}

.history-item{
 background:rgba(255,255,255,.05);
 padding:15px;
 border-radius:15px;
 margin-bottom:15px;
 font-size:14px;
}

.musicBtn{
 position:fixed;
 bottom:25px;
 left:25px;
 background:var(--accent);
 border:none;
 padding:12px 18px;
 border-radius:40px;
 cursor:pointer;
}
</style>
</head>

<body>

<div class="container">

<div class="card">
<h2> PRO</h2>

<select id="issue">
<option value="bite">砖转 祝</option>
<option value="night">转 </option>
<option value="litter">爪专 抓 专</option>
</select>

<textarea id="details" placeholder="转专 转 拽专 驻砖转..."></textarea>

<button onclick="analyze()">转 </button>

<div id="result" class="result"></div>

</div>

<div class="card">
<h2>住专</h2>
<div id="history"></div>
</div>

</div>

<button class="musicBtn" onclick="toggleSound()"> 专专</button>

<script>

/* BACKGROUND LOOP */
const backgrounds=[
"linear-gradient(135deg,#0f2027,#203a43,#2c5364)",
"linear-gradient(135deg,#141e30,#243b55)",
"linear-gradient(135deg,#1f1c2c,#928dab)"
];

let bgIndex=0;
setInterval(()=>{
 document.body.style.background=backgrounds[bgIndex];
 bgIndex=(bgIndex+1)%backgrounds.length;
},7000);


/* AI STYLE ANALYSIS */
function analyze(){
 const issue=document.getElementById("issue").value;
 const details=document.getElementById("details").value.toLowerCase();
 const result=document.getElementById("result");

 let response="";
 let emergency=false;

 if(details.includes("dying") ||
    details.includes("blood") ||
    details.includes("not breathing") ||
    details.includes("seizure") ||
    details.includes("collapse")){
      emergency=true;
 }

 if(emergency){
   response="锔 爪 专 驻砖专. 砖 驻转  专专   专专.  转.";
   result.classList.add("danger");
 }
 else if(issue==="bite"){
   response="专 砖专 专 转专. 抓 拽爪专 驻 注专 砖拽.";
 }
 else if(issue==="night"){
   response="注祝 专. 爪注 砖拽 住 驻 砖.";
 }
 else if(issue==="litter"){
   response="转 住专住  注 专驻转. 拽 拽 拽 专.";
 }

 result.innerText=response;
 result.style.display="block";

 saveHistory(response,details);
}


/* HISTORY */
function saveHistory(text,details){
 const history=JSON.parse(localStorage.getItem("catHistoryPRO"))||[];
 history.unshift({
  date:new Date().toLocaleString(),
  text,
  details
 });
 localStorage.setItem("catHistoryPRO",JSON.stringify(history));
 renderHistory();
}

function renderHistory(){
 const container=document.getElementById("history");
 const history=JSON.parse(localStorage.getItem("catHistoryPRO"))||[];
 container.innerHTML="";
 history.forEach(item=>{
  container.innerHTML+=`
   <div class="history-item">
    <strong>${item.date}</strong><br>
    ${item.text}<br>
    <small>${item.details}</small>
   </div>
  `;
 });
}
renderHistory();


/* PURR */
let audioCtx;
let isPlaying=false;

function toggleSound(){
 if(!audioCtx){
   audioCtx=new (window.AudioContext||window.webkitAudioContext)();
   const osc1=audioCtx.createOscillator();
   const osc2=audioCtx.createOscillator();
   const gain=audioCtx.createGain();

   osc1.frequency.value=25;
   osc2.frequency.value=50;
   gain.gain.value=0.3;

   osc1.connect(gain);
   osc2.connect(gain);
   gain.connect(audioCtx.destination);

   osc1.start();
   osc2.start();

   isPlaying=true;
 }
}
</script>

</body>
</html>
