<!doctype html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CatMind Clean</title>

<style>
:root{
 --accent:#00d4ff;
 --bg:#0f1720;
 --card:#161f2b;
 --input:#1f2a36;
}

body{
 margin:0;
 font-family:system-ui;
 background:var(--bg);
 color:white;
}

.container{
 max-width:900px;
 margin:60px auto;
 padding:20px;
}

.card{
 background:var(--card);
 padding:25px;
 border-radius:20px;
 margin-bottom:25px;
 box-shadow:0 10px 30px rgba(0,0,0,.4);
}

h2{margin-top:0;color:var(--accent)}

select,textarea{
 width:100%;
 padding:12px;
 margin-bottom:12px;
 border-radius:12px;
 border:none;
 background:var(--input);
 color:white;
}

textarea{min-height:90px;resize:vertical}

button{
 width:100%;
 padding:14px;
 border:none;
 border-radius:30px;
 background:var(--accent);
 color:#001018;
 font-weight:bold;
 cursor:pointer;
 transition:.3s;
}
button:hover{
 transform:scale(1.02);
 box-shadow:0 0 20px var(--accent);
}

.result{
 margin-top:20px;
 display:none;
}

.history-item{
 background:var(--input);
 padding:12px;
 border-radius:12px;
 margin-bottom:10px;
}
</style>
</head>

<body>

<div class="container">

<div class="card">
<h2>אבחון התנהגות</h2>

<select id="issue">
<option value="bite">נשיכות בליטוף</option>
<option value="night">יללות בלילה</option>
<option value="litter">צרכים מחוץ לארגז</option>
</select>

<textarea id="details" placeholder="תאר את המקרה כאן..."></textarea>

<button id="analyze">נתח עכשיו</button>

<div id="result" class="result">
<h3 id="diag"></h3>
<p id="meaning"></p>
</div>
</div>

<div class="card">
<h3 style="color:var(--accent)">היסטוריית אבחונים</h3>
<div id="history"></div>
</div>

</div>

<script>
document.getElementById("analyze").addEventListener("click", function(){

 const issue = document.getElementById("issue").value;
 const details = document.getElementById("details").value;

 let text = "";

 if(issue==="bite") text="גירוי יתר — הפסק ליטוף מוקדם יותר.";
 if(issue==="night") text="עודף אנרגיה — משחק לפני השינה.";
 if(issue==="litter") text="סטרס סביבתי — בדוק ניקיון.";

 document.getElementById("diag").innerText = "אבחנה:";
 document.getElementById("meaning").innerText = text;

 document.getElementById("result").style.display = "block";

 saveHistory(text,details);
});

function saveHistory(text,details){
 const history = JSON.parse(localStorage.getItem("catHistory")) || [];
 history.unshift({
   date: new Date().toLocaleString(),
   text,
   details
 });
 localStorage.setItem("catHistory", JSON.stringify(history));
 renderHistory();
}

function renderHistory(){
 const container = document.getElementById("history");
 const history = JSON.parse(localStorage.getItem("catHistory")) || [];
 container.innerHTML = "";
 history.forEach(item=>{
   container.innerHTML += `
     <div class="history-item">
       <strong>${item.date}</strong><br>
       ${item.text}<br>
       <small>${item.details || ""}</small>
     </div>
   `;
 });
}

renderHistory();
</script>

</body>
</html>
