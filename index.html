<!doctype html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CatMind PRO 7.0 - AI Diagnostics & WhatsApp</title>

<style>
:root {
  --accent: #00d4ff;
  --danger: #ff4d6d;
  --success: #25d366;
  --glass: rgba(0, 0, 0, 0.75);
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: system-ui, -apple-system, sans-serif;
  color: white;
  background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
              url('https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?auto=format&fit=crop&w=1350&q=80');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  transition: background 2s ease-in-out;
  min-height: 100vh;
}

.container {
  max-width: 1100px;
  margin: 40px auto;
  padding: 20px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
}

@media(max-width:900px) {
  .container { grid-template-columns: 1fr; }
}

.card {
  background: var(--glass);
  backdrop-filter: blur(20px);
  padding: 30px;
  border-radius: 25px;
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: 0 20px 60px rgba(0,0,0,.5);
  position: relative;
}

h2 { color: var(--accent); margin-top: 0; font-size: 28px; }

label { display: block; margin-bottom: 8px; font-weight: bold; opacity: 0.9; }

select, textarea {
  width: 100%;
  padding: 14px;
  border-radius: 14px;
  border: 2px solid transparent;
  background: rgba(255,255,255,0.1);
  color: white;
  margin-bottom: 15px;
  font-size: 16px;
  outline: none;
}

textarea { min-height: 120px; resize: vertical; }

button {
  width: 100%;
  padding: 16px;
  border: none;
  border-radius: 40px;
  background: var(--accent);
  color: #001018;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
  font-size: 18px;
  margin-bottom: 10px;
}

button:hover { transform: scale(1.02); filter: brightness(1.1); }

.whatsapp-btn {
  background: var(--success);
  color: white;
  display: none; /* 驻注 专拽 专  */
}

#loading {
  display: none;
  text-align: center;
  margin: 20px 0;
}

.paw-icon {
  font-size: 40px;
  animation: pulse 1s infinite alternate;
  display: inline-block;
}

@keyframes pulse {
  from { transform: scale(1); opacity: 0.5; }
  to { transform: scale(1.3); opacity: 1; }
}

.result {
  margin-top: 20px;
  padding: 20px;
  border-radius: 15px;
  background: rgba(255,255,255,0.08);
  display: none;
  border-right: 5px solid var(--accent);
  animation: fadeIn 0.5s ease;
}

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.history-item {
  background: rgba(255,255,255,.05);
  padding: 15px;
  border-radius: 15px;
  margin-bottom: 15px;
  font-size: 14px;
  border-right: 4px solid var(--accent);
}

.musicBtn {
  position: fixed;
  bottom: 25px;
  left: 25px;
  width: auto;
  padding: 12px 25px;
  z-index: 100;
}
</style>
</head>

<body>

<div class="container">
    <div class="card">
        <h2>  </h2>
        
        <label>专 砖:</label>
        <select id="issue">
            <option value="砖转 驻转转">砖转 驻转转</option>
            <option value="转 ">转 </option>
            <option value="爪专 抓 专">爪专 抓 专</option>
            <option value="砖 转">砖 转</option>
        </select>

        <textarea id="details" placeholder="转专 转 拽专..."></textarea>

        <button onclick="runAnalysis()" id="mainBtn">转 拽专</button>

        <div id="loading">
            <div class="paw-icon"></div>
            <p>转 拽专 转 转 转...</p>
        </div>

        <div id="result" class="result"></div>
        
        <button class="whatsapp-btn" id="waBtn" onclick="sendToWhatsApp()">
             砖  专专 
        </button>
    </div>

    <div class="card">
        <h2>住专 </h2>
        <div id="history"></div>
    </div>
</div>

<button class="musicBtn" onclick="playMeow()"> !</button>

<script>
/* 1. 专拽注 */
const backgrounds = [
  "url('https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?auto=format&fit=crop&w=1350&q=80')",
  "url('https://images.unsplash.com/photo-1495360010541-f48722b34f7d?auto=format&fit=crop&w=1350&q=80')",
  "url('https://images.unsplash.com/photo-1513245543132-31f507417b26?auto=format&fit=crop&w=1350&q=80')"
];
let bgIndex = 0;
setInterval(() => {
  bgIndex = (bgIndex + 1) % backgrounds.length;
  document.body.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), ${backgrounds[bgIndex]}`;
}, 10000);

/* 2. 住 */
const meowSound = new Audio('https://www.socialfiction.org/audio/meow.mp3'); 
function playMeow() { meowSound.currentTime = 0; meowSound.play(); }

/* 3.  */
let lastAnalysis = "";

function runAnalysis() {
    const res = document.getElementById("result");
    const load = document.getElementById("loading");
    const wa = document.getElementById("waBtn");
    
    res.style.display = "none";
    wa.style.display = "none";
    load.style.display = "block";
    playMeow();

    setTimeout(() => {
        load.style.display = "none";
        analyze();
        wa.style.display = "block"; // 专 转 驻转专 住驻 住
    }, 2000);
}

function analyze() {
  const issue = document.getElementById("issue").value;
  const details = document.getElementById("details").value;
  const result = document.getElementById("result");

  let response = "";
  const dangerKeywords = ["", "砖", "住住", "驻专住", " ", "转"];
  const isEmergency = dangerKeywords.some(word => details.includes(word));

  if (isEmergency) {
    response = "锔 专: 专 砖砖 注 专驻转 驻. 抓 驻转 专专 .";
    result.style.color = "var(--danger)";
  } else {
    const advice = {
      "砖转 驻转转": " 注砖 转 '专 转专'. 住 驻转 注 专 专砖  .",
      "转 ": "转 拽拽 驻专拽转 专. 抓 砖拽 住 驻 砖.",
      "爪专 抓 专": "拽 转 拽 专    砖 住转 砖专 住专住.",
      "砖 转": "砖   注拽 专驻  砖 注 ."
    };
    response = advice[issue] || "抓 注拽 专 转转  拽专.";
    result.style.color = "white";
  }

  lastAnalysis = response;
  result.innerHTML = `<strong>:</strong><br>${response}`;
  result.style.display = "block";
  saveHistory(response, details);
}

/* 4. 住驻 */
function sendToWhatsApp() {
    const issue = document.getElementById("issue").value;
    const details = document.getElementById("details").value;
    const text = `砖 "专,  转注抓  转 砖.\n\n*砖:* ${issue}\n*转专:* ${details}\n* 专砖 驻拽爪:* ${lastAnalysis}`;
    const encodedText = encodeURIComponent(text);
    window.open(`https://wa.me/?text=${encodedText}`, '_blank');
}

/* 5. 住专 */
function saveHistory(text, details) {
  const history = JSON.parse(localStorage.getItem("catHistoryPRO")) || [];
  history.unshift({ date: new Date().toLocaleString('he-IL'), text, details });
  localStorage.setItem("catHistoryPRO", JSON.stringify(history.slice(0, 5)));
  renderHistory();
}

function renderHistory() {
  const container = document.getElementById("history");
  const history = JSON.parse(localStorage.getItem("catHistoryPRO")) || [];
  container.innerHTML = history.map(item => `
    <div class="history-item">
      <strong>${item.date}</strong><br>${item.text}
    </div>`).join('');
}
renderHistory();
</script>
</body>
</html>
