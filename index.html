<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CatMind AI</title>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<style>
:root{ --turquoise:#22d3ee; }
*{box-sizing:border-box;margin:0;padding:0;}

body{
    height: 100vh;
    font-family:'Segoe UI',Tahoma,Verdana,sans-serif;
    color:#fff;
    background:#020617;
    overflow: hidden; 
}

/* ===== ×¨×§×¢ - ×—×ª×•×œ×™× ×‘×œ×‘×“ ===== */
.bg-layer{
    position:fixed;
    inset:0;
    background-size:cover;
    background-position: center 20%; /* ××•× ×¢ ×—×™×ª×•×š ×”×¨××© ××œ××¢×œ×” */
    background-repeat:no-repeat;
    transition:opacity 1.5s ease;
    filter:brightness(0.6) contrast(1.1);
    z-index:0;
}
#bg2{ opacity:0; }

.overlay{
    position:fixed;
    inset:0;
    background:linear-gradient(to right,
    rgba(0,0,0,0.8) 0%,
    rgba(0,0,0,0.4) 50%,
    rgba(0,0,0,0.1) 100%);
    z-index:1;
}

/* ===== Glass Card ===== */
.card{
    position: absolute;
    right: 50px; 
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
    width: 420px;
    max-width: 90%;
    max-height: 92vh; 
    
    display: flex;
    flex-direction: column;

    background: linear-gradient(145deg, rgba(255,255,255,0.12), rgba(255,255,255,0.03));
    backdrop-filter: blur(40px) saturate(150%);
    -webkit-backdrop-filter: blur(40px) saturate(150%);
    border-radius: 28px;
    padding: 25px;
    border: 1px solid rgba(255,255,255,0.2);
    box-shadow: 0 40px 100px rgba(0,0,0,0.6);
}

.card-header { flex-shrink: 0; }

h1{
    text-align:center;
    font-size:22px;
    margin-bottom:15px;
    color:var(--turquoise);
    text-shadow: 0 2px 10px rgba(34,211,238,0.3);
}

select{
    width:100%;
    padding:12px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,0.2);
    margin-bottom:12px;
    background:#0f172a;
    color:#fff;
    font-size:14px;
    outline: none;
}

button{
    width:100%;
    padding:14px;
    border-radius:14px;
    border:none;
    background:var(--turquoise);
    font-weight:700;
    cursor:pointer;
    margin-bottom:20px;
    color:#06131c;
    font-size:16px;
    transition: 0.2s;
}
button:hover { filter: brightness(1.1); }

/* ××–×•×¨ ×’×œ×™×œ×” ×¤× ×™××™ ××¡×•×“×¨ */
.scroll-area {
    flex: 1;
    overflow-y: auto;
    padding-left: 8px;
    display: flex;
    flex-direction: column;
    gap: 15px; /* ××•× ×¢ ×”×ª× ×’×©×•×ª ×‘×™×Ÿ ××œ×× ×˜×™× */
}

.scroll-area::-webkit-scrollbar { width: 4px; }
.scroll-area::-webkit-scrollbar-thumb { background: rgba(34,211,238,0.3); border-radius: 10px; }

#resultContainer{
    background: rgba(0, 0, 0, 0.3);
    border-radius:18px;
    padding:18px;
    border: 1px solid rgba(34,211,238,0.2);
    font-size:14.5px;
    line-height:1.7;
    color:#e2e8f0;
    min-height: 80px;
}

.disclaimer{
    padding:12px;
    border-radius:14px;
    background:rgba(251,191,36,0.1);
    border:1px solid rgba(251,191,36,0.2);
    font-size:11px;
    color:#fde68a;
    text-align:center;
}

.section h3{
    color:var(--turquoise);
    font-size:13px;
    margin-bottom:10px;
    opacity: 0.9;
}

.link-btn{
    display:block;
    text-align:center;
    padding:11px;
    border-radius:12px;
    background:rgba(255,255,255,0.07);
    color:#fff;
    text-decoration:none;
    font-size:12.5px;
    margin-bottom:6px;
    border: 1px solid rgba(255,255,255,0.1);
    transition: 0.3s;
}
.link-btn:hover{ background:rgba(255,255,255,0.15); border-color: var(--turquoise); }

/* Mobile */
@media (max-width: 768px){
    .card{ position: relative; right: auto; top: auto; transform: none; margin: 15px auto; width: 92%; height: 85vh; }
}
</style>
</head>

<body>

<div id="bg1" class="bg-layer"></div>
<div id="bg2" class="bg-layer"></div>
<div class="overlay"></div>

<div class="card">
    <div class="card-header">
        <h1>ğŸ± CatMind AI</h1>
        <select id="mainSymptom">
            <option value="">×‘×—×¨ ×‘×¢×™×” ××”×¨×©×™××”</option>
            <option value="Vomiting">×”×§××•×ª</option>
            <option value="Diarrhea">×©×œ×©×•×œ</option>
            <option value="Constipation">×¢×¦×™×¨×•×ª</option>
            <option value="Loss of appetite">×—×•×¡×¨ ×ª×™××‘×•×Ÿ</option>
            <option value="Weight loss">×™×¨×™×“×” ×‘××©×§×œ</option>
            <option value="Abnormal weight gain">×¢×œ×™×™×” ×—×¨×™×’×” ×‘××©×§×œ</option>
            <option value="Extreme fatigue">×¢×™×™×¤×•×ª ×§×™×¦×•× ×™×ª</option>
            <option value="Breathing difficulty">×§×•×©×™ ×‘× ×©×™××”</option>
            <option value="Coughing">×©×™×¢×•×œ</option>
            <option value="Frequent sneezing">×”×ª×¢×˜×©×•×™×•×ª ×ª×›×•×¤×•×ª</option>
            <option value="Nasal discharge">×”×¤×¨×©×•×ª ××”××£</option>
            <option value="Eye discharge">×”×¤×¨×©×•×ª ××”×¢×™× ×™×™×</option>
            <option value="Excessive itching">×’×™×¨×•×“×™× ××¨×•×‘×™×</option>
            <option value="Abnormal hair loss">× ×©×™×¨×ª ×©×™×¢×¨ ×—×¨×™×’×”</option>
            <option value="Skin sores">×¤×¦×¢×™× ×‘×¢×•×¨</option>
            <option value="Swelling">× ×¤×™×—×•×ª ×‘×’×•×£</option>
            <option value="Limping">×¦×œ×™×¢×”</option>
            <option value="Not using litter box">×—×•×¡×¨ ×©×™××•×© ×‘××¨×’×– ×—×•×œ</option>
            <option value="Blood in urine">×“× ×‘×©×ª×Ÿ</option>
            <option value="Behavioral changes">×©×™× ×•×™×™× ×‘×”×ª× ×”×’×•×ª</option>
            <option value="Sudden aggression">××’×¨×¡×™×‘×™×•×ª ×¤×ª××•××™×ª</option>
            <option value="Trembling">×¨×¢×™×“×•×ª</option>
            <option value="Seizures">×¤×¨×›×•×¡×™×</option>
            <option value="Possible poisoning">×”×¨×¢×œ×” ××¤×©×¨×™×ª</option>
            <option value="Swallowed foreign object">×‘×œ×™×¢×ª ×—×¤×¥ ×–×¨</option>
            <option value="High fever">×—×•× ×’×‘×•×”</option>
            <option value="Loss of consciousness">××•×‘×“×Ÿ ×”×›×¨×”</option>
        </select>
        <button onclick="executeAnalysis()">× ×ª×— ××§×¨×”</button>
    </div>

    <div class="scroll-area">
        <div id="resultContainer">×”××‘×—× ×” ×ª×•×¤×™×¢ ×›××Ÿ...</div>

        <div class="disclaimer">
            âš  ×”×›×œ×™ ×”×•× ×œ×”×›×•×•× ×” ×‘×œ×‘×“ ×•××™× ×• ××—×œ×™×£ ×™×™×¢×•×¥ ×•×˜×¨×™× ×¨×™ ××§×¦×•×¢×™. ×‘××§×¨×” ×—×™×¨×•× ×™×© ×œ×¤× ×•×ª ××™×“ ×œ×•×˜×¨×™× ×¨.
        </div>

        <div class="section">
            <h3>××™×“×¢ × ×•×¡×£</h3>
            <a class="link-btn" href="https://www.whiskas.in/cat-breeds" target="_blank">Browse All Breeds</a>
        </div>

        <div class="section">
            <h3>×•×˜×¨×™× ×¨×™× ××•××œ×¦×™×</h3>
            <a class="link-btn" href="https://www.talisteinvet.co.il/" target="_blank">×“"×¨ ×˜×œ×™ ×©×˜×™×™×Ÿ</a>
            <a class="link-btn" href="https://easy.co.il/page/3056876" target="_blank">×“"×¨ ×ª××¨ ×¤×œ×™×“×œ</a>
        </div>
    </div>
</div>

<script>
// ×¨×©×™××ª ×ª××•× ×•×ª ××¡×•× × ×ª - ×—×ª×•×œ×™ ×‘×™×ª ×‘×œ×‘×“
const images=[
    "https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?q=80&w=1920&auto=format&fit=crop",
    "https://images.unsplash.com/photo-1573865526739-10659fec78a5?q=80&w=1920&auto=format&fit=crop",
    "https://images.unsplash.com/photo-1495360010541-f48722b34f7d?q=80&w=1920&auto=format&fit=crop",
    "https://images.unsplash.com/photo-1511044568932-338cba0ad803?q=80&w=1920&auto=format&fit=crop",
    "https://images.unsplash.com/photo-1533738363-b7f9aef128ce?q=80&w=1920&auto=format&fit=crop",
    "https://images.unsplash.com/photo-1548247416-ec66f4900b2e?q=80&w=1920&auto=format&fit=crop",
    "https://images.unsplash.com/photo-1513245543132-31f507417b26?q=80&w=1920&auto=format&fit=crop",
    "https://images.unsplash.com/photo-1518791841217-8f162f1e1131?q=80&w=1920&auto=format&fit=crop",
    "https://images.unsplash.com/photo-1519052537078-e6302a4968d4?q=80&w=1920&auto=format&fit=crop",
    "https://images.unsplash.com/photo-1516750484197-6b28d10c91ea?q=80&w=1920&auto=format&fit=crop"
];

let currentIndex=Math.floor(Math.random()*images.length);
let activeLayer=1;
const bg1=document.getElementById("bg1");
const bg2=document.getElementById("bg2");

bg1.style.backgroundImage=`url(${images[currentIndex]})`;
bg1.style.opacity=1;

function nextBackground(){
    let nextIndex;
    do{ nextIndex=Math.floor(Math.random()*images.length); } while(nextIndex===currentIndex);
    currentIndex=nextIndex;
    if(activeLayer===1){
        bg2.style.backgroundImage=`url(${images[currentIndex]})`;
        bg2.style.opacity=1; bg1.style.opacity=0; activeLayer=2;
    }else{
        bg1.style.backgroundImage=`url(${images[currentIndex]})`;
        bg1.style.opacity=1; bg2.style.opacity=0; activeLayer=1;
    }
}
setInterval(nextBackground,10000);

async function executeAnalysis(){
    const select=document.getElementById("mainSymptom");
    const result=document.getElementById("resultContainer");
    const scrollArea=document.querySelector(".scroll-area");

    if(!select.value){
        result.innerHTML="âš  ×× × ×‘×—×¨ ×‘×¢×™×” ××”×¨×©×™××”.";
        return;
    }

    result.innerHTML="â³ ×× ×ª×— × ×ª×•× ×™×...";

    try{
        const response=await fetch("https://catmind-ai-server.onrender.com/generate",{
            method:"POST",
            headers:{"Content-Type":"application/json"},
            body:JSON.stringify({ text:"× ×ª×— ×¡×™××¤×˜×•× ×‘×—×ª×•×œ ×‘×¦×•×¨×” ××§×¦×•×¢×™×ª ×•××¤×•×¨×˜×ª: "+select.value })
        });

        const reader=response.body.getReader();
        const decoder=new TextDecoder();
        let fullText="";

        while(true){
            const {done,value}=await reader.read();
            if(done) break;
            fullText+=decoder.decode(value);
            result.innerHTML=`<div dir="rtl"><strong>××‘×—× ×ª CatMind:</strong><br><br>${marked.parse(fullText)}</div>`;
            // ×’×œ×™×œ×” ×—×›××” ×¨×§ ×‘×ª×•×š ×”××–×•×¨ ×”×¤× ×™××™
            scrollArea.scrollTop = 0; // × ×©××¨ ×œ××¢×œ×” ×›×“×™ ×©×™×•×›×œ×• ×œ×§×¨×•× ××”×”×ª×—×œ×”
        }
    }catch(err){
        result.innerHTML="âŒ ×©×’×™××” ×‘×—×™×‘×•×¨ ×œ×©×¨×ª. × ×¡×” ×©× ×™×ª.";
    }
}
</script>

</body>
</html>
